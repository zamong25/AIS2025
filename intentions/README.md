# 델파이 트레이더 - 시스템 의도

> "코드는 어떻게(How)를 설명하고, 의도는 왜(Why)를 설명한다"

## 📋 의도 문서란?

의도 문서는 시스템이 **무엇을 해야 하는지**와 **왜 그래야 하는지**를 자연어로 설명합니다.
코드를 작성하기 전에 의도를 명확히 하면:

1. AI가 더 정확한 코드를 생성
2. 개발자가 시스템을 빠르게 이해
3. 비즈니스 요구사항과 코드가 일치

## 🗂️ 폴더 구조

```
intentions/
├── README.md              # 이 파일
├── WHAT_WE_WANT.md       # 시스템 전체 목표
├── HOW_IT_WORKS.md       # 작동 원리
├── CONSTRAINTS.md        # 제약 사항
│
├── features/             # 기능별 의도
│   ├── auto_trading.md   # 자동 거래
│   ├── risk_management.md # 리스크 관리
│   └── ai_agents.md      # AI 에이전트
│
├── domains/              # 도메인별 의도
│   ├── trading.md        # 거래 도메인
│   ├── analysis.md       # 분석 도메인
│   └── monitoring.md     # 모니터링 도메인
│
└── workflows/            # 워크플로우별 의도
    ├── trade_execution.md # 거래 실행 흐름
    └── daily_analysis.md  # 일일 분석 흐름
```

## 📝 의도 문서 작성 가이드

### 1. 구조
```markdown
# [기능/도메인 이름]

## 목적
왜 이 기능이 필요한가?

## 기대 결과
이 기능이 작동하면 무엇이 달라지는가?

## 핵심 규칙
반드시 지켜야 할 비즈니스 규칙은?

## 제약 사항
기술적/비즈니스적 제한은?

## 예시 시나리오
실제로 어떻게 작동해야 하는가?
```

### 2. 작성 원칙
- **구체적으로**: "좋은 성능" ❌ → "100ms 이내 응답" ✅
- **측정 가능하게**: "많은 거래" ❌ → "일일 100건 이상" ✅
- **비즈니스 언어로**: "DB 쿼리" ❌ → "거래 이력 조회" ✅

## 🔄 의도와 코드의 연결

### 1. 의도 → 코드
```python
# intentions/features/risk_management.md
"""
## 포지션 크기 제한
- 전체 자본의 10%를 초과할 수 없음
- 레버리지는 최대 20배
"""

# domain/trading/rules/risk_rules.py
class RiskRules:
    MAX_POSITION_PERCENT = 10  # 의도 문서와 일치
    MAX_LEVERAGE = 20         # 의도 문서와 일치
```

### 2. 변경 시 동기화
- 의도가 바뀌면 → 코드 수정
- 코드가 바뀌면 → 의도 문서 확인
- 불일치 발견 시 → 즉시 동기화

## 🎯 핵심 의도 요약

### 시스템 전체
- **목표**: 24/7 자동 암호화폐 거래로 안정적 수익 창출
- **방법**: 5개 AI 에이전트의 집단 지성 활용
- **원칙**: 리스크 관리 최우선

### 거래 실행
- **진입**: 모든 에이전트가 동의할 때만
- **청산**: 손실 제한 철저히 준수
- **포지션**: 동시에 1개만 보유

### AI 에이전트
- **독립성**: 각자 독립적으로 분석
- **협업**: 신디사이저가 종합 판단
- **검증**: 스토익이 최종 리스크 체크

## 🚀 시작하기

1. 새 기능 추가 시
   - 먼저 `intentions/features/`에 의도 문서 작성
   - 의도를 바탕으로 코드 구현
   - 테스트로 의도 충족 확인

2. 버그 수정 시
   - 관련 의도 문서 확인
   - 의도와 코드 불일치 확인
   - 필요시 의도 문서도 수정

3. 리팩토링 시
   - 의도는 유지, 구현만 개선
   - 의도 문서는 변경 불필요

---

**"명확한 의도가 좋은 코드를 만든다"**