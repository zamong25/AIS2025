# 델파이 트레이더 - 제약 사항

## 🚫 기술적 제약

### 거래소 API 제한
- **요청 빈도**: 분당 1200회 (바이낸스 기준)
- **주문 제한**: 초당 10개
- **웹소켓 연결**: 최대 5개
- **데이터 지연**: 최소 50ms

### 시스템 리소스
- **메모리**: 최대 4GB 사용
- **CPU**: 평균 20% 이하 유지
- **디스크**: 일일 로그 1GB 이하
- **네트워크**: 안정적 연결 필수

### 데이터 정확도
- **가격 정밀도**: SOLUSDT는 소수점 2자리
- **수량 정밀도**: 소수점 3자리
- **최소 거래량**: 0.01 SOL
- **슬리피지**: 0.1% 고려

## 💰 비즈니스 제약

### 자본 관리
- **최대 포지션**: 총 자본의 40%
- **최대 레버리지**: 20배
- **최소 거래 금액**: $10
- **예비 자금**: 20% 항상 보유

### 리스크 제한
- **최대 손실 (일일)**: 5%
- **최대 손실 (월간)**: 10%
- **연속 손실**: 3회 시 24시간 정지
- **단일 거래 손실**: 2%

### 거래 빈도
- **일일 최대 거래**: 10회
- **동시 포지션**: 1개
- **최소 거래 간격**: 30분
- **분석 주기**: 15분

## ⚖️ 규제 및 준수

### 거래소 정책
- **마켓 메이킹 금지**: 허위 거래량 생성 불가
- **워시 트레이딩 금지**: 자전 거래 불가
- **봇 표시**: User-Agent에 봇 명시
- **KYC 준수**: 인증된 계정만 사용

### 세금 및 기록
- **모든 거래 기록**: 7년 보관
- **손익 계산**: 선입선출(FIFO) 방식
- **보고서 생성**: 월별/연별 자동 생성

## 🔒 보안 제약

### API 키 관리
- **환경 변수**: 하드코딩 절대 금지
- **권한 제한**: 거래 권한만 부여
- **정기 교체**: 3개월마다
- **접근 IP**: 화이트리스트만

### 데이터 보호
- **암호화**: 민감 데이터 AES-256
- **백업**: 일일 자동 백업
- **접근 제어**: 역할 기반 제한
- **로그**: 개인정보 제외

## 🏗️ 아키텍처 제약

### 의존성
- **Python**: 3.9+ 필수
- **주요 라이브러리**: 메이저 버전 고정
- **외부 서비스**: 단일 실패점 없애기
- **데이터베이스**: SQLite (단순함 우선)

### 확장성
- **수평 확장**: 현재 미지원
- **멀티 인스턴스**: 데이터 충돌 위험
- **자산 추가**: 하드코딩 제거 후 가능
- **거래소 추가**: 인터페이스 구현 필요

## ⏱️ 성능 요구사항

### 응답 시간
- **가격 조회**: < 100ms
- **주문 실행**: < 500ms
- **분석 완료**: < 30초
- **트리거 반응**: < 1초

### 가용성
- **목표 가동률**: 99.5%
- **최대 다운타임**: 연간 43시간
- **복구 시간**: < 5분
- **데이터 손실**: 0 (트랜잭션)

## 🧩 통합 제약

### AI 에이전트
- **Gemini API**: 분당 60회 요청
- **응답 크기**: 최대 8192 토큰
- **동시 요청**: 최대 5개
- **비용**: 월 $100 이내

### 알림 시스템
- **Discord**: 초당 5개 메시지
- **Webhook**: 분당 30회
- **파일 크기**: 최대 8MB
- **임베드**: 메시지당 10개

## 📐 설계 원칙 제약

### 코드 품질
- **함수 길이**: 최대 50줄
- **클래스 크기**: 최대 300줄
- **순환 복잡도**: 최대 10
- **중첩 깊이**: 최대 4단계

### 테스트 요구
- **단위 테스트**: 80% 커버리지
- **통합 테스트**: 핵심 경로 100%
- **성능 테스트**: 주요 병목 지점
- **회귀 테스트**: 모든 버그 수정

## 🚨 운영 제약

### 모니터링
- **로그 보관**: 30일
- **메트릭 수집**: 5분 단위
- **알림 임계값**: 사전 정의
- **대시보드**: 실시간 업데이트

### 유지보수
- **정기 점검**: 주 1회
- **백업 검증**: 월 1회
- **성능 리뷰**: 분기 1회
- **코드 리뷰**: 모든 변경

---

**"제약을 인정하고, 그 안에서 최선을 찾는다"**