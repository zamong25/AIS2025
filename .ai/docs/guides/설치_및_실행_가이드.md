# 🏛️ 델파이 트레이딩 시스템 - 설치 및 실행 가이드

## 🚀 빠른 시작

### 1. 필수 패키지 설치
```bash
pip install -r requirements.txt
```

### 2. 환경 설정
`.env` 파일을 생성하고 API 키 입력:
```bash
# 바이낸스 API (실제 거래용)
BINANCE_API_KEY=your_api_key
BINANCE_API_SECRET=your_secret

# Google Gemini AI
GEMINI_API_KEY=your_gemini_key

# Discord 알림 (선택)
DISCORD_WEBHOOK_URL=your_webhook_url
```

### 3. 시스템 실행
```bash
python src/main.py
```

---

## 📋 상세 설치 가이드

### 1. Python 환경 설정
```bash

# 가상환경 활성화 (Windows)
new_venv\Scripts\activate

### 2. 패키지 설치
```bash
# 전체 패키지 설치
pip install -r requirements.txt

# 또는 핵심 패키지만 설치
pip install google-generativeai python-binance pandas pandas-ta Pillow selenium requests python-dotenv PyYAML
```

### 3. API 키 발급

#### 바이낸스 API
1. https://www.binance.com 로그인
2. 계정 → API 관리
3. API 키 생성 (선물 거래 권한 필요)

#### Google Gemini API
1. https://aistudio.google.com/apikey 접속
2. API 키 생성

#### Discord 웹훅 (선택)
1. Discord 서버 설정 → 연동 → 웹후크
2. 새 웹후크 생성

### 4. 설정 파일 구성

#### .env 파일 예시
```bash
# 바이낸스 메인넷
BINANCE_API_KEY=실제API키
BINANCE_API_SECRET=실제시크릿키

# 바이낸스 테스트넷 (연습용)
BINANCE_TESTNET_API_KEY=테스트API키
BINANCE_TESTNET_SECRET_KEY=테스트시크릿키

# AI 설정
GEMINI_API_KEY=제미니API키

# 알림 설정
DISCORD_WEBHOOK_URL=디스코드웹훅URL
```

---

## 🖥️ 시스템 실행

### 1. 메인 시스템 실행
```bash
# 실제 거래 모드
python src/main.py

# 테스트넷 모드
python src/main.py --testnet
```

### 2. 대시보드 실행
```bash
# 별도 터미널에서 실행
python src/dashboard/app.py
```
브라우저에서 http://localhost:8000 접속

### 3. 로그 확인
```bash
# 실시간 로그 확인
tail -f logs/delphi.log

# 최근 에러 확인
grep ERROR logs/delphi.log | tail -20
```

---

## ⚙️ 주요 설정

### 1. 거래 설정
```yaml
# config/config.yaml
trading:
  symbol: SOLUSDT
  leverage: 1-3
  position_size: 5-10%
  risk_per_trade: 1.5%
```

### 2. 탐험 모드
초기 50개 거래는 탐험 모드로 작동:
- 데이터 수집 목적
- 소액 거래 실행
- 다양한 전략 시도

### 3. 에이전트 가중치
```yaml
agent_weights:
  chartist: 30%
  journalist: 25%
  quant: 25%
  stoic: 20%
```

---

## 🔍 문제 해결

### 1. 모듈 import 에러
```bash
pip install --upgrade [모듈명]
```

### 2. API 연결 실패
- API 키 확인
- IP 화이트리스트 확인
- 네트워크 연결 확인

### 3. 최소 주문 금액 에러
- 바이낸스 최소 주문: 10 USDT
- 자본금 확인
- 포지션 크기 조정

### 4. 포지션 복구 실패
```bash
# 수동으로 거래 내역 동기화
python -c "from src.trading.trade_history_sync import TradeHistorySync; sync = TradeHistorySync(); sync.sync_recent_trades()"
```

---

## 📊 시스템 모니터링

### 1. 실시간 상태 확인
- 대시보드: http://localhost:8000
- 로그: `logs/delphi.log`
- 거래 내역: `data/database/delphi_trades.db`

### 2. 일일 리포트
```bash
# reports/daily/ 폴더에 자동 생성
cat reports/daily/daily_report_$(date +%Y-%m-%d).json
```

### 3. 포지션 상태
```bash
# 현재 포지션 확인
sqlite3 data/database/delphi_trades.db "SELECT * FROM positions WHERE status='OPEN';"
```

---

## 🚨 주의사항

1. **실제 거래 전 테스트넷에서 충분히 연습**
2. **자본금의 5-10%만 포지션에 사용**
3. **레버리지는 1-3배 권장**
4. **시스템 로그 정기적 확인**
5. **API 키 보안 철저히 관리**

---

*최종 수정: 2025-07-06*