# 🏛️ 델파이 트레이딩 시스템

>  멀티 에이전트 자동 거래 시스템

## 📋 목차
- [프로젝트 개요](#-프로젝트-개요)
- [주요 특징](#-주요-특징)
- [시스템 구조](#-시스템-구조)
- [AI 에이전트 소개](#-ai-에이전트-소개)
- [설치 방법](#-설치-방법)
- [사용 방법](#-사용-방법)
- [프로젝트 구조](#-프로젝트-구조)
- [핵심 기능 설명](#-핵심-기능-설명)
- [현재 진행 상황](#-현재-진행-상황)
- [향후 계획](#-향후-계획)

---

## 🎯 프로젝트 개요

델파이는 4명의 전문 AI 에이전트가 협업하여 암호화폐(SOL/USDT) 거래를 자동으로 수행하는 시스템입니다. 각 에이전트는 고대 그리스 철학자의 이름을 가지고 있으며, 각자의 전문 분야에서 시장을 분석합니다.

### 왜 델파이인가?
- **집단 지성**: 한 명의 AI가 아닌 4명의 전문가가 협업
- **균형잡힌 판단**: 기술적, 펀더멘털, 통계적, 리스크 관점 모두 고려
- **거래 연속성**: AI가 이전 판단을 기억하고 일관된 전략 수행
- **안전성**: 철저한 리스크 관리와 자본 보호

---

## ✨ 주요 특징

### 1. 멀티 에이전트 시스템
- 4명의 전문 AI가 서로 다른 관점에서 시장 분석
- 충돌하는 의견을 지능적으로 조정하는 Enhanced Conflict Resolver V2
- 시장 상황에 따라 동적으로 변하는 에이전트 가중치

### 2. Trading Context (거래 연속성)
- 한 사람이 계속 거래하는 것처럼 일관된 의사결정
- 포지션 진입 근거와 시나리오를 지속적으로 추적
- 프로그램 재시작 시에도 거래 맥락 유지

### 3. Position State Manager
- Single Source of Truth 패턴으로 정확한 포지션 상태 관리
- Binance API, Trading Context, DB를 통합 관리
- 수동 거래도 자동으로 감지하여 시스템에 통합

### 4. 시간축 정렬
- 단기 차트 신호와 장기 뉴스 영향을 적절히 구분
- 즉각적(0-4시간), 단기(1-3일), 장기(1주+) 영향도 분석
- 불필요한 HOLD 결정 80% 감소

---

## 🏗️ 시스템 구조

```
┌─────────────────────────────────────────────────────────┐
│                    사용자 인터페이스                      │
│              웹 대시보드 (localhost:8000)                │
│                  Discord 알림 (선택)                     │
└─────────────────────────────────────────────────────────┘
                            │
┌─────────────────────────────────────────────────────────┐
│                델파이 오케스트레이터 (main.py)            │
│              • 전체 시스템 조율 및 스케줄링               │
│              • 에이전트 병렬 실행 관리                    │
└─────────────────────────────────────────────────────────┘
                            │
        ┌───────────────────┴───────────────────┐
        │           4대 분석 에이전트            │
┌───────────────┐  ┌───────────────┐  ┌───────────────┐  ┌───────────────┐
│  아르키메데스  │  │  헤로도토스   │  │  피타고라스   │  │     제논      │
│  (차티스트)   │  │ (저널리스트)  │  │   (퀀트)     │  │  (스토익)     │
│               │  │               │  │               │  │               │
│ 기술적 차트   │  │ 뉴스 & 정서   │  │ 통계 & 데이터 │  │ 리스크 관리   │
│ 분석 전문     │  │ 분석 전문     │  │ 분석 전문     │  │ 전문         │
└───────────────┘  └───────────────┘  └───────────────┘  └───────────────┘
        │                  │                  │                  │
        └──────────────────┴──────────────────┴──────────────────┘
                                    │
                    ┌───────────────────────────┐
                    │  Enhanced Conflict Resolver│
                    │    충돌 해결 & 가중치 조정  │
                    └───────────────────────────┘
                                    │
                          ┌─────────────────┐
                          │   솔론 (Solon)   │
                          │  최종 의사결정자  │
                          │  (신디사이저)    │
                          └─────────────────┘
                                    │
                        ┌───────────────────┐
                        │   거래 실행 시스템  │
                        ├───────────────────┤
                        │ • Trade Executor   │
                        │ • Position Manager │
                        │ • OCO Order Manager│
                        └───────────────────┘
                                    │
                          ┌─────────────────┐
                          │  바이낸스 선물   │
                          │   거래소 API    │
                          └─────────────────┘
```

---

## 🤖 AI 에이전트 소개

### 1. 🏛️ 아르키메데스 (Archimedes) - 차티스트
- **역할**: 기술적 차트 분석 전문가
- **입력**: 5분, 15분, 1시간, 1일 차트 스크린샷
- **분석 도구**: Lux Algo 지표, 시장 구조, 지지/저항선
- **출력**: 추세 방향, 핵심 가격대, 시나리오별 확률
- **파일**: `src/agents/chartist.py`

### 2. 📰 헤로도토스 (Herodotus) - 저널리스트
- **역할**: 뉴스 및 시장 정서 분석가
- **입력**: 최신 뉴스, 소셜 미디어, 예정된 이벤트
- **분석**: 시간축별 영향도 (즉각/단기/장기)
- **출력**: 내러티브, 감성 점수, 카탈리스트
- **파일**: `src/agents/journalist.py`

### 3. 🔢 피타고라스 (Pythagoras) - 퀀트
- **역할**: 통계 및 계량 분석가
- **입력**: 가격 데이터, 거래량, 기술 지표, 과거 거래 성과
- **분석**: 통계적 확률, 기대값, 과거 패턴
- **출력**: 시나리오별 성공 확률, 기대 손익
- **파일**: `src/agents/quant.py`

### 4. 🛡️ 제논 (Zeno) - 스토익
- **역할**: 리스크 관리 전문가
- **입력**: 모든 에이전트의 분석 결과
- **분석**: 리스크/보상 비율, 최대 손실 계산
- **출력**: 손절가, 익절가, 포지션 크기
- **파일**: `src/agents/stoic.py`

### 5. ⚖️ 솔론 (Solon) - 신디사이저
- **역할**: 최종 의사결정자
- **입력**: 4개 에이전트 보고서 + 현재 포지션 상태
- **결정**: BUY / SELL / HOLD / CLOSE_POSITION
- **파일**: `src/agents/synthesizer.py`
